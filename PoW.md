# PoW

1. `Proof-of-Work` (англ. «Доказательство работы») — алгоритм, благодаря которому в блокчейне происходит добавление нового блока, подтверждение транзакций и верификация единой версии реестра во всех его копиях, которые хранят отдельные ноды.

2. Механизм `PoW` был первым алгоритмом консенсуса в криптовалюте. Именно этот механизм использовал Сатоши Накамото при создании биткоина.

3. Внедрение `Proof-of-Work` позволило решить проблему двойного расходования, а экономический стимул, предусмотренный в алгоритме, стал основой для появления индустрии майнинга биткоина.

## Суть Proof-of-Work

Концепция Proof-of-Work — алгоритм защиты распределенных систем от злоупотреблений (DoS-атак, спам-рассылок и тому подобного), суть которого сводится к двум основным пунктам:

1. необходимости выполнения определенной достаточно сложной и длительной задачи.

2. возможности быстро и легко проверить результат.

PoW-задачи изначально не предназначены для человека, их решение компьютером всегда достижимо в конечные сроки, однако требует больших вычислительных мощностей. При этом проверка полученного решения требует гораздо меньше ресурсов и времени.

## Как Proof-of-Work используют в криптовалютах

Сатоши Накамото использовал концепцию PoW в первой криптовалюте — биткоине. Он взял идею Hashcash, добавив к ней механизм изменяющейся сложности — уменьшение или увеличение N (требуемого числа нулей) в зависимости от суммарной мощности участников сети. Вычисляемой функцией стала SHA-256. 

Блокчейн — это сеть распределенных узлов (нод), каждая из которых несет собственную копию реестра. Алгоритм консенсуса обеспечивает способность каждой ноды проверить, что майнер (в роли которого выступает другой узел, добавляющий новый блок в блокчейн) фактически выполнил необходимые расчеты. 

Данный процесс включает в себя попытку найти хеш заголовка блока (часть блокчейна, которая содержит ссылку на предыдущий блок и суммированное значение транзакций, в него включенных), который будет по своему значению соответствовать текущему уровню сложности.

Проще говоря, PoW — процедура, которая позволяет всем нодам договориться о единой версии блокчейна, а также подтвердить данные о новых транзакциях в новом блоке. Кроме того, она отвечает за эмиссию новых монет в блокчейне. Майнинг — часть алгоритма PoW.

## Главные достижения алгоритма PoW

До биткоина неоднократно принимались попытки создать децентрализованную систему, которая бы позволяла совершать переводы и верифицировать их без необходимости иметь центрального оператора. 

Однако ни один проект не мог решить проблему двойного расходования — возможности для отправителя перевода дважды потратить одни и те же средства до того, как система подтвердит их.

Эту проблему удалось решить только в биткоине — с помощью технологии блокчейн и алгоритма консенсуса Proof-of-Work (PoW), который стимулирует майнеров верифицировать каждую транзакцию до ее добавления в реестр. При этом данный экономический стимул также позволяет поддерживать работу всего блокчейна.

## На что влияет сложность вычисления нового блока

В сети биткоина сложность вычислений для добавления нового блока — динамический параметр. Он устанавливается на таком уровне, чтобы скорость генерации блоков оставалась примерно на одном и том же уровне, каким бы мощным не было используемое для майнинга оборудование.

В то же время проверка результатов вычислений остается простой. Ноды всегда могут удостовериться, что майнер нашел корректное значение, но поскольку процесс нахождения блока затратен и случаен, невозможно с точностью предсказать, какой именно майнер решит задачу и добудет следующий блок.

Для того, чтобы система признала блок правильным, необходимо, чтобы значение его хеша было меньшим по сравнению с текущей целью. Таким образом, каждый блок показывает, что была проделана определенная работа по его нахождению.

Новый блок содержит хеш предыдущего блока, образуя цепь. Изменить блок невозможно, можно лишь создать блок на той же высоте, который будет содержать в себе хеш предыдущего блока. Для этого необходимо проделать работу по нахождению всех предыдущих блоков. Высокая сложность этого процесса защищает блокчейн от несанкционированного доступа и двойных трат.

## Proof-of-Work и майнинг

Proof-of-Work, по сути, породил индустрию майнинга биткоина и стал импульсом к разработке специализированного оборудования — ASIC, поскольку вычислительные ресурсы, расходуемые на хеширование блоков, огромны и намного превышают мощности крупнейших суперкомпьютеров.

В то же время не обошлось и без пресловутой «обратной стороны медали»: достаточно быстро PoW превратился в монстра, пожирающего электричество в гонке за прибыльностью. 

Мощность майнингового оборудования постоянно растет, увеличивается и число участников этой отрасли. В результате увеличивается суммарное энергопотребление. Однако повышается и энергоэффективность майнеров, а доля биткоина в глобальном потреблении электричества и в 2022 году остается невысокой.